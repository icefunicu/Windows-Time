功能实现已闭环，项目已准备好上线（MVP 阶段）。

### 1. 新增功能详情
我们已经完成了以下核心功能的开发：

**后端服务 (Service)**
- **数据查询**: `DataRepository` 现支持按日期查询聚合数据 (`GetAggregatesByDateAsync`) 和获取所有应用列表。
- **IPC 增强**: `IpcServer` 新增了 `GetUsageByDate` (分析数据), `GetLimitRules` (获取规则), `UpsertLimitRule` (保存规则) 接口。
- **限额执行**: `Worker` 服务现在每次采样后会检查应用限额。如果超限，会记录警告日志 (模拟拦截)。

**前端应用 (App)**
- **Analytics 页面**:
  - 集成了 **LiveCharts2**，展示小时级使用分布柱状图。
  - 显示当天的 Top 应用列表。
  - 支持日期选择器，可查看历史数据（Mock 模式下支持随机生成历史数据）。
- **Limits 页面**:
  - 显示所有应用列表。
  - 支持设置 **每日限额 (分钟)** 和 **超限动作** (NotifyOnly/BlockNew/ForceClose)。
  - 支持启用/禁用规则，并实时保存到后端。
- **Mock 数据**: 更新了 `MockAppService`，为新页面提供演示数据，方便在无服务环境下测试 UI。

### 2. 运行指南

**启动 UI (演示模式)**
目前 App 默认配置为 Mock 模式，可直接运行体验 UI 交互：
```powershell
cd src/ScreenTimeWin.App
dotnet run
```

**部署生产环境**
若要上线使用真实采集功能：
1. 修改 `src/ScreenTimeWin.App/App.xaml.cs`，将 `MockAppService` 替换回 `AppService`。
2. 编译并安装服务：
   ```powershell
   dotnet publish src/ScreenTimeWin.Service -c Release -o ./publish
   # 以管理员权限运行:
   sc create "ScreenTimeWin" binPath= "...\publish\ScreenTimeWin.Service.exe" start= auto
   sc start "ScreenTimeWin"
   ```
3. 运行 App 即可看到真实数据。

### 3. 下一步建议
- **Focus 模式**: 目前 Focus 页面仍为占位符，后续可实现番茄钟倒计时。
- **真实拦截**: 目前 `Worker` 中的拦截仅为日志记录 (`_logger.LogWarning`)。要实现真实拦截，需要调用 `Process.Kill()` 并处理权限问题（服务需运行在 LocalSystem，UI 需提示提权）。
- **开机自启**: 可以为 App 添加注册表启动项。
